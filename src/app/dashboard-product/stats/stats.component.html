<div class="mat-content" class="inset">
    <!-- andrew begin -->
    <!-- Inputs -->
    <div layout="column" layout-gt-xs="row">
            <div flex-gt-xs="100">
                <mat-card>
                    <mat-card-header fxLayout="row">
                        <mat-card-title>Bitflow Inputs</mat-card-title>
                        <span flex></span>
                        <!-- TODO: do this better -->
                        <button mat-icon-button (click)="inputsCollapsed=!inputsCollapsed">
                            <mat-icon *ngIf="!inputsCollapsed" aria-label="Collapse Inputs">expand_less</mat-icon>
                            <mat-icon *ngIf="inputsCollapsed" aria-label="Expand Inputs">expand_more</mat-icon>
                        </button>
                    </mat-card-header>
                    <mat-card-content *ngIf="!inputsCollapsed">
                    <mat-divider></mat-divider>
                    <div class="grid-flow push-top-sm pull-bottom">
                      <!-- rowHeight="2:1" -->
                        <mat-grid-list cols="{{inputData.headings.length}}" rowHeight="30px">
                            <mat-grid-tile class="header" *ngFor="let heading of inputData.headings">
                                <p>{{ heading }}</p>
                            </mat-grid-tile>
                            <!--
                            <mat-grid-tile class="header"><p>Name</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>Hourly Count</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>Hourly Bytes</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>Daily Count</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>Daily Bytes</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>Other 1</p></mat-grid-tile>
                            -->

                            <!-- testing:
                            <mat-grid-tile><mat-grid-tile-header>Priority 1</mat-grid-tile-header></mat-grid-tile>
                            <mat-grid-tile><mat-grid-tile-header>Priority 2</mat-grid-tile-header></mat-grid-tile>
                            <mat-grid-tile><mat-grid-tile-header>Priority 3</mat-grid-tile-header></mat-grid-tile>
                            <mat-grid-tile><mat-grid-tile-header>Priority 4</mat-grid-tile-header></mat-grid-tile>
                            <mat-grid-tile><mat-grid-tile-header>Priority 5</mat-grid-tile-header></mat-grid-tile>
                            <mat-grid-tile><mat-grid-tile-header>Priority 6</mat-grid-tile-header></mat-grid-tile>
                            -->
                            
                            <!--
                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>1</p></mat-grid-tile>
                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>2</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>3</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>4</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>5</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>6</p></mat-grid-tile>
                            -->
                            
                            <ng-container *ngFor="let input of inputData.inputs">
                                <mat-grid-tile class="name"><p>{{ input.name }}</p></mat-grid-tile>
                                <mat-grid-tile [ngClass]="'trending-' + input.hour.trend" flex><mat-icon>{{getTrendIcon(input.hour.trend)}}</mat-icon><span flex></span><p>{{ input.hour.total | number }}</p></mat-grid-tile>
                                <mat-grid-tile [ngClass]="'trending-' + input.hour.trend" flex><mat-icon>{{getTrendIcon(input.hour.trend)}}</mat-icon><span flex></span><p>{{ input.hour.bytes | bytes }}</p></mat-grid-tile>
                                <mat-grid-tile [ngClass]="'trending-' + input.day.trend" flex><mat-icon>{{getTrendIcon(input.day.trend)}}</mat-icon><span flex></span><p>{{ input.day.total | number }}</p></mat-grid-tile>
                                <mat-grid-tile [ngClass]="'trending-' + input.day.trend" flex><mat-icon>{{getTrendIcon(input.day.trend)}}</mat-icon><span flex></span><p>{{ input.day.bytes | bytes }}</p></mat-grid-tile>
                                <mat-grid-tile><p>{{ input.other }}</p></mat-grid-tile>
                            </ng-container>

                            <!--
                            <mat-grid-tile class="trending-downward"><mat-icon>trending_down</mat-icon><p>7</p></mat-grid-tile>
                            <mat-grid-tile class="trending-below"><mat-icon>trending_down</mat-icon><p>8</p></mat-grid-tile>
                            <mat-grid-tile class="trending-down"><mat-icon>arrow_downward</mat-icon><p>9</p></mat-grid-tile>
                            <mat-grid-tile class="trending-down"><mat-icon>arrow_downward</mat-icon><p>10</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_made</mat-icon><p>11</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_received</mat-icon><p>12</p></mat-grid-tile>
                            -->

                            <!--
                            <mat-grid-tile><mat-icon>check</mat-icon><p>13</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>check</mat-icon><p>14</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>chevron_right</mat-icon><p>15</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>clear</mat-icon><p>16</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>check_circle</mat-icon><p>17</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>change_history</mat-icon><p>18</p></mat-grid-tile>

                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>1</p></mat-grid-tile>
                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>2</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>3</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>4</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>5</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>6</p></mat-grid-tile>
                            
                            <mat-grid-tile class="trending-down"><mat-icon>trending_down</mat-icon><p>7</p></mat-grid-tile>
                            <mat-grid-tile class="trending-down"><mat-icon>trending_down</mat-icon><p>8</p></mat-grid-tile>
                            <mat-grid-tile class="down"><mat-icon>arrow_downward</mat-icon><p>9</p></mat-grid-tile>
                            <mat-grid-tile class="down"><mat-icon>arrow_downward</mat-icon><p>10</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_made</mat-icon><p>11</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_received</mat-icon><p>12</p></mat-grid-tile>
                            -->
                        </mat-grid-list>                              
                    </div>
                    </mat-card-content>

                    <mat-card-content *ngIf="inputsCollapsed">
                        <mat-divider></mat-divider>
                        <div class="grid-flow-collapsed push-top-sm pull-bottom">
                            <!-- rowHeight="2:1" -->
                            <mat-grid-list cols="6" rowHeight="30px">
                                <mat-grid-tile class="up">
                                    <mat-icon>arrow_upward</mat-icon>
                                    <p>{{inputData.summary.upwardCount | number}} ({{inputData.summary.upwardTotal | number}})</p>
                                </mat-grid-tile>
                                <mat-grid-tile class="trending-up">
                                    <mat-icon>trending_up</mat-icon>
                                    <p>{{inputData.summary.upCount | number}} ({{inputData.summary.upTotal | number}})</p>
                                </mat-grid-tile>
                                <mat-grid-tile class="trending-flat">
                                    <mat-icon>check</mat-icon>
                                    <p>{{inputData.summary.flatCount | number}} ({{inputData.summary.flatTotal | number}})</p>
                                </mat-grid-tile>
                                <mat-grid-tile class="trending-below">
                                    <mat-icon>trending_down</mat-icon>
                                    <p>{{inputData.summary.downCount | number}} ({{inputData.summary.downTotal | number}})</p>
                                </mat-grid-tile>
                                <mat-grid-tile class="trending-down">
                                    <mat-icon>call_made</mat-icon>
                                    <p>{{inputData.summary.down2Count | number}} ({{inputData.summary.down2Total | number}})</p>
                                </mat-grid-tile>
                                <mat-grid-tile class="down">
                                    <mat-icon>arrow_downward</mat-icon>
                                    <p>{{inputData.summary.downwardCount | number}} ({{inputData.summary.downwardTotal | number}})</p>
                                </mat-grid-tile>
                            </mat-grid-list>
                        </div>
                    </mat-card-content>
                    <!--
                    <mat-card-actions>
                        <button mat-button (click)="inputsCollapsed=true">COLLAPSE</button>
                        <button mat-button (click)="inputsCollapsed=false">EXPAND</button>
                    </mat-card-actions>
                    -->
              </mat-card>
            </div>
        </div>
        <!-- Outputs -->
        <div layout="column" layout-gt-xs="row">
            <div flex-gt-xs="100">
                <mat-card>
                    <mat-card-content *ngIf="!outputsCollapsed">
                    <mat-card-title>Bitflow Outputs</mat-card-title>
                    <mat-divider></mat-divider>
                    <div class="grid-flow push-top-sm pull-bottom">
                        <!-- rowHeight="2:1" -->
                        <mat-grid-list cols="6" rowHeight="30px">
                            <mat-grid-tile class="header"><p>#1</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>#2</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>#3</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>#4</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>#5</p></mat-grid-tile>
                            <mat-grid-tile class="header"><p>#6</p></mat-grid-tile>
                            
                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>1</p></mat-grid-tile>
                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>2</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>3</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>4</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>5</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>6</p></mat-grid-tile>

                            <mat-grid-tile class="trending-down"><mat-icon>trending_down</mat-icon><p>7</p></mat-grid-tile>
                            <mat-grid-tile class="trending-below"><mat-icon>trending_down</mat-icon><p>8</p></mat-grid-tile>
                            <mat-grid-tile class="down"><mat-icon>arrow_downward</mat-icon><p>9</p></mat-grid-tile>
                            <mat-grid-tile class="down"><mat-icon>arrow_downward</mat-icon><p>10</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_made</mat-icon><p>11</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_received</mat-icon><p>12</p></mat-grid-tile>

                            <mat-grid-tile><mat-icon>check</mat-icon><p>13</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>check</mat-icon><p>14</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>chevron_right</mat-icon><p>15</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>clear</mat-icon><p>16</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>check_circle</mat-icon><p>17</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>change_history</mat-icon><p>18</p></mat-grid-tile>

                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>1</p></mat-grid-tile>
                            <mat-grid-tile class="up"><mat-icon>arrow_upward</mat-icon><p>2</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>3</p></mat-grid-tile>
                            <mat-grid-tile class="trending-up"><mat-icon>trending_up</mat-icon><p>4</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>5</p></mat-grid-tile>
                            <mat-grid-tile class="trending-flat"><mat-icon>trending_flat</mat-icon><p>6</p></mat-grid-tile>
                            
                            <mat-grid-tile class="trending-down"><mat-icon>trending_down</mat-icon><p>7</p></mat-grid-tile>
                            <mat-grid-tile class="trending-down"><mat-icon>trending_down</mat-icon><p>8</p></mat-grid-tile>
                            <mat-grid-tile class="down"><mat-icon>arrow_downward</mat-icon><p>9</p></mat-grid-tile>
                            <mat-grid-tile class="down"><mat-icon>arrow_downward</mat-icon><p>10</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_made</mat-icon><p>11</p></mat-grid-tile>
                            <mat-grid-tile><mat-icon>call_received</mat-icon><p>12</p></mat-grid-tile>
                        </mat-grid-list>                              
                    </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    <!-- andrew end -->
    <div layout="column" layout-gt-xs="row">
        <div flex-gt-xs="100">
            <mat-card>
              <mat-card-title>Product Usage</mat-card-title>
              <mat-divider></mat-divider>
              <div class="chart-height push-top-sm pull-bottom">
                <ngx-charts-line-chart
                  [scheme]="colorScheme"
                  [results]="multi"
                  [gradient]="gradient"
                  [xAxis]="showXAxis"
                  [yAxis]="showYAxis"
                  [legend]="showLegend"
                  [showXAxisLabel]="showXAxisLabel"
                  [showYAxisLabel]="showYAxisLabel"
                  [xAxisLabel]="xAxisLabel"
                  [yAxisLabel]="yAxisLabel"
                  [autoScale]="autoScale"
                  [yAxisTickFormatting]="axisDigits">
                </ngx-charts-line-chart>
              </div>
          </mat-card>
        </div>
    </div>
    <div layout="column" layout-gt-sm="row">
        <div flex-gt-sm="100">
            <mat-card>
                <div layout="row" layout-align="start center" class="pad-left-sm pad-right-sm">
                    <span *ngIf="!searchBox.searchVisible" class="push-left-sm">
                        <span class="mat-title">Product Stats</span>
                    </span>
                    <td-search-box #searchBox backIcon="arrow_back" class="push-right-sm" placeholder="Search here" (searchDebounce)="search($event)" flex>
                    </td-search-box>
                </div>
                <mat-divider></mat-divider>
                <td-data-table
                    #dataTable
                    [data]="filteredData"
                    [columns]="columns"
                    [sortable]="true"
                    [sortBy]="sortBy"
                    [sortOrder]="sortOrder"
                    (sortChange)="sort($event)">
                </td-data-table>
                <div class="pad" *ngIf="!dataTable.hasData" layout="row" layout-align="center center">
                    <h3>No results to display.</h3>
                </div> 
                <td-paging-bar #pagingBar [total]="filteredTotal" (change)="page($event)">
                    <span hide-xs>Row per page:</span>
                    <mat-select [(ngModel)]="pageSize">
                        <mat-option *ngFor="let size of [5, 10, 15, 20]" [value]="size">
                            {{size}}
                        </mat-option>
                    </mat-select>
                    {{pagingBar.range}} <span hide-xs>of {{pagingBar.total}}</span>
                </td-paging-bar>
            </mat-card>
        </div>
    </div>
</div>
